{"ast":null,"code":"import axios from 'axios';\nconst USER_API_BASE_URL = '/auth-accord-idoc/token/';\n\nclass AuthService {\n  login(credentials) {\n    const httpClient = axios.create();\n    return httpClient.post(USER_API_BASE_URL + \"generate-token\", credentials); // return axios.post(USER_API_BASE_URL + \"generate-token\", credentials);\n  }\n\n  getUserInfo() {\n    return JSON.parse(localStorage.getItem(\"userInfo\"));\n  }\n\n  getAuthHeader() {\n    return {\n      headers: {\n        Authorization: 'Bearer ' + this.getUserInfo().token\n      }\n    };\n  }\n\n  logOut() {\n    localStorage.removeItem(\"userInfo\");\n    return axios.post(USER_API_BASE_URL + 'logout', {}, this.getAuthHeader());\n  }\n\n}\n\nexport default new AuthService();","map":{"version":3,"sources":["C:/Users/User/IdeaProjects/BankProjects/Auth_accord/react/src/service/AuthService.js"],"names":["axios","USER_API_BASE_URL","AuthService","login","credentials","httpClient","create","post","getUserInfo","JSON","parse","localStorage","getItem","getAuthHeader","headers","Authorization","token","logOut","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,iBAAiB,GAAG,0BAA1B;;AAEA,MAAMC,WAAN,CAAkB;AAEdC,EAAAA,KAAK,CAACC,WAAD,EAAa;AAEd,UAAMC,UAAU,GAAGL,KAAK,CAACM,MAAN,EAAnB;AACA,WAAOD,UAAU,CAACE,IAAX,CAAgBN,iBAAiB,GAAG,gBAApC,EAAsDG,WAAtD,CAAP,CAHc,CAKf;AACF;;AAEDI,EAAAA,WAAW,GAAE;AACT,WAAOC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAP;AACH;;AAEDC,EAAAA,aAAa,GAAG;AACZ,WAAO;AAACC,MAAAA,OAAO,EAAE;AAACC,QAAAA,aAAa,EAAE,YAAY,KAAKP,WAAL,GAAmBQ;AAA/C;AAAV,KAAP;AACH;;AAEDC,EAAAA,MAAM,GAAG;AACLN,IAAAA,YAAY,CAACO,UAAb,CAAwB,UAAxB;AACA,WAAOlB,KAAK,CAACO,IAAN,CAAWN,iBAAiB,GAAG,QAA/B,EAAyC,EAAzC,EAA6C,KAAKY,aAAL,EAA7C,CAAP;AACH;;AArBa;;AAwBlB,eAAe,IAAIX,WAAJ,EAAf","sourcesContent":["import axios from 'axios';\r\n\r\nconst USER_API_BASE_URL = '/auth-accord-idoc/token/';\r\n\r\nclass AuthService {\r\n\r\n    login(credentials){\r\n      \r\n        const httpClient = axios.create();\r\n        return httpClient.post(USER_API_BASE_URL + \"generate-token\", credentials);\r\n      \r\n       // return axios.post(USER_API_BASE_URL + \"generate-token\", credentials);\r\n    }\r\n\r\n    getUserInfo(){\r\n        return JSON.parse(localStorage.getItem(\"userInfo\"));\r\n    }\r\n\r\n    getAuthHeader() {\r\n        return {headers: {Authorization: 'Bearer ' + this.getUserInfo().token }};\r\n    }\r\n\r\n    logOut() {\r\n        localStorage.removeItem(\"userInfo\");\r\n        return axios.post(USER_API_BASE_URL + 'logout', {}, this.getAuthHeader());\r\n    }\r\n}\r\n\r\nexport default new AuthService();"]},"metadata":{},"sourceType":"module"}