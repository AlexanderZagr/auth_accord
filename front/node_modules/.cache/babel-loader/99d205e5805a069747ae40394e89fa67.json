{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\IdeaProjects\\\\BankProjects\\\\Auth_accord\\\\react\\\\src\\\\component\\\\department\\\\ListDepartmentComponent.jsx\";\nimport React, { Component } from 'react';\nimport DepartmentService from \"../../service/DepartmentService\";\nimport SpinerPage from '../../component/SpinnerPage';\nimport NavBar from \"../Navbar\";\n\nclass ListDepartmentComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      departments: [],\n      message: null,\n      loading: false\n    };\n    this.deleteDepartment = this.deleteDepartment.bind(this);\n    this.editDepartment = this.editDepartment.bind(this);\n    this.addDepartment = this.addDepartment.bind(this);\n    this.reloadDepartmentList = this.reloadDepartmentList.bind(this);\n  }\n\n  componentDidMount() {\n    this.reloadDepartmentList();\n  }\n\n  reloadDepartmentList() {\n    this.setState({\n      loading: true\n    });\n    DepartmentService.fetchDepartments().then(res => {\n      this.setState({\n        departments: res.data.result,\n        loading: false\n      });\n    });\n  }\n\n  deleteDepartment(id) {\n    DepartmentService.deleteDepartment(id).then(res => {\n      this.setState({\n        message: 'User deleted successfully.'\n      });\n      this.setState({\n        depatments: this.state.departments.filter(department => department.id !== id)\n      });\n    });\n  }\n\n  editDepartment(id) {\n    window.localStorage.setItem(\"id\", id);\n    this.props.history.push('/edit-department');\n  }\n\n  addDepartment() {\n    window.localStorage.removeItem(\"id\");\n    this.props.history.push('/add-Department');\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }), this.state.loading && /*#__PURE__*/React.createElement(SpinerPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 38\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => this.addDepartment(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }\n    }, \"\\u0414\\u043E\\u0434\\u0430\\u0442\\u0438 \\u0432\\u0456\\u0434\\u0434\\u0456\\u043B\\u0435\\u043D\\u043D\\u044F\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-striped\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 29\n      }\n    }, \"\\u0412\\u0456\\u0434\\u0434\\u0456\\u043B\\u0435\\u043D\\u043D\\u044F\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 29\n      }\n    }, \"\\u041A\\u043E\\u0434 ISPRO\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 29\n      }\n    }, \"\\u041F\\u043E\\u0440\\u044F\\u0434\\u043E\\u043A\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, this.state.departments.map(department => /*#__PURE__*/React.createElement(\"tr\", {\n      key: department.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 33\n      }\n    }, department.nameDepartment), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 33\n      }\n    }, department.codeIspro), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 33\n      }\n    }, department.orderCode), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: () => this.editDepartment(department.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 37\n      }\n    }, \"\\u0420\\u0435\\u0434\\u0430\\u0433\\u0443\\u0432\\u0430\\u0442\\u0438\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: () => this.deleteDepartment(department.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 37\n      }\n    }, \"\\u0412\\u0438\\u0434\\u0430\\u043B\\u0438\\u0442\\u0438\")))))));\n  }\n\n}\n\nexport default ListDepartmentComponent;","map":{"version":3,"sources":["C:/Users/User/IdeaProjects/BankProjects/Auth_accord/react/src/component/department/ListDepartmentComponent.jsx"],"names":["React","Component","DepartmentService","SpinerPage","NavBar","ListDepartmentComponent","constructor","props","state","departments","message","loading","deleteDepartment","bind","editDepartment","addDepartment","reloadDepartmentList","componentDidMount","setState","fetchDepartments","then","res","data","result","id","depatments","filter","department","window","localStorage","setItem","history","push","removeItem","render","map","nameDepartment","codeIspro","orderCode"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport DepartmentService from \"../../service/DepartmentService\";\r\nimport SpinerPage from '../../component/SpinnerPage';\r\nimport NavBar from \"../Navbar\";\r\n\r\n\r\nclass ListDepartmentComponent extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            departments: [],\r\n            message: null,\r\n            loading : false\r\n        }\r\n        this.deleteDepartment = this.deleteDepartment.bind(this);\r\n        this.editDepartment = this.editDepartment.bind(this);\r\n        this.addDepartment = this.addDepartment.bind(this);\r\n        this.reloadDepartmentList = this.reloadDepartmentList.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.reloadDepartmentList();\r\n    }\r\n\r\n    reloadDepartmentList() {\r\n        this.setState({loading: true});\r\n        DepartmentService.fetchDepartments()\r\n            .then((res) => {\r\n                this.setState({ departments: res.data.result ,loading: false});\r\n       });\r\n    }\r\n\r\n    deleteDepartment(id) {\r\n        DepartmentService.deleteDepartment(id)\r\n            .then(res => {\r\n                this.setState({ message: 'User deleted successfully.' });\r\n                this.setState({ depatments: this.state.departments.filter(department => department.id !== id) });\r\n            \r\n            })\r\n\r\n    }\r\n\r\n    editDepartment(id) {\r\n        window.localStorage.setItem(\"id\", id);\r\n        this.props.history.push('/edit-department');\r\n    }\r\n\r\n    addDepartment() {\r\n        window.localStorage.removeItem(\"id\");\r\n        this.props.history.push('/add-Department');\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <NavBar />\r\n                {this.state.loading&&<SpinerPage/>}\r\n                <br />\r\n                <button className=\"btn btn-danger\" onClick={() => this.addDepartment()}>Додати відділення</button>\r\n                <table className=\"table table-striped\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\">Відділення</th>\r\n                            <th scope=\"col\">Код ISPRO</th>\r\n                            <th scope=\"col\">Порядок</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.state.departments.map(department =>\r\n                                <tr key={department.id}>\r\n                                <td>{department.nameDepartment}</td>\r\n                                <td>{department.codeIspro}</td>\r\n                                <td>{department.orderCode}</td>\r\n                               \r\n                                <td>\r\n                                    <button className=\"btn btn-success\" onClick={() => this.editDepartment(department.id)}>Редагувати</button>\r\n                                </td>\r\n                                <td>\r\n                                    <button className=\"btn btn-success\" onClick={() => this.deleteDepartment(department.id)}>Видалити</button>\r\n                                </td>\r\n                            </tr>\r\n                            )\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default ListDepartmentComponent;\r\n"]},"metadata":{},"sourceType":"module"}