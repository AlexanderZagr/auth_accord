{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\IdeaProjects\\\\BankProjects\\\\Auth_accord\\\\react\\\\src\\\\component\\\\user\\\\ListUserComponent.jsx\";\nimport React, { Component } from 'react';\nimport ApiService from \"../../service/ApiService\";\nimport SpinerPage from '../../component/SpinnerPage';\nimport NavBar from \"../Navbar\";\n\nclass ListUserComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      message: null,\n      loading: false\n    };\n    this.deleteUser = this.deleteUser.bind(this);\n    this.editUser = this.editUser.bind(this);\n    this.addUser = this.addUser.bind(this);\n    this.reloadUserList = this.reloadUserList.bind(this);\n  }\n\n  componentDidMount() {\n    this.reloadUserList();\n  }\n\n  reloadUserList() {\n    this.setState({\n      loading: true\n    }); // setTimeout(()=>{\n    //  this.setState({loading: false});\n    //},2000)\n\n    ApiService.fetchUsers().then(res => {\n      this.setState({\n        users: res.data.result,\n        loading: false\n      });\n    });\n  }\n\n  deleteUser(userId) {\n    ApiService.deleteUser(userId).then(res => {\n      this.setState({\n        message: 'User deleted successfully.'\n      });\n      this.setState({\n        users: this.state.users.filter(user => user.userId !== userId)\n      });\n    });\n  }\n\n  editUser(id) {\n    window.localStorage.setItem(\"userId\", id);\n    this.props.history.push('/edit-user');\n  }\n\n  addUser() {\n    window.localStorage.removeItem(\"userId\");\n    this.props.history.push('/add-user');\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }), this.state.loading && /*#__PURE__*/React.createElement(SpinerPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 38\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => this.addUser(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, \"\\u0414\\u043E\\u0434\\u0430\\u0442\\u0438 \\u043A\\u043E\\u0440\\u0438\\u0441\\u0442\\u0443\\u0432\\u0430\\u0447\\u0430\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-striped\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 29\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 29\n      }\n    }, \"LastName\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 29\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 29\n      }\n    }, \"Active\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, this.state.users.map(user => /*#__PURE__*/React.createElement(\"tr\", {\n      key: user.userId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 41\n      }\n    }, user.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 41\n      }\n    }, user.lastName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 41\n      }\n    }, user.email), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 41\n      }\n    }, user.active), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: () => this.editUser(user.userId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 45\n      }\n    }, \"\\u0420\\u0435\\u0434\\u0430\\u0433\\u0443\\u0432\\u0430\\u0442\\u0438\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: () => this.deleteUser(user.userId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 45\n      }\n    }, \"\\u0412\\u0438\\u0434\\u0430\\u043B\\u0438\\u0442\\u0438\")))))));\n  }\n\n}\n\nexport default ListUserComponent;","map":{"version":3,"sources":["C:/Users/User/IdeaProjects/BankProjects/Auth_accord/react/src/component/user/ListUserComponent.jsx"],"names":["React","Component","ApiService","SpinerPage","NavBar","ListUserComponent","constructor","props","state","users","message","loading","deleteUser","bind","editUser","addUser","reloadUserList","componentDidMount","setState","fetchUsers","then","res","data","result","userId","filter","user","id","window","localStorage","setItem","history","push","removeItem","render","map","name","lastName","email","active"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport ApiService from \"../../service/ApiService\";\r\nimport SpinerPage from '../../component/SpinnerPage';\r\nimport NavBar from \"../Navbar\";\r\n\r\n\r\nclass ListUserComponent extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            users: [],\r\n            message: null,\r\n            loading : false\r\n        }\r\n        this.deleteUser = this.deleteUser.bind(this);\r\n        this.editUser = this.editUser.bind(this);\r\n        this.addUser = this.addUser.bind(this);\r\n        this.reloadUserList = this.reloadUserList.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.reloadUserList();\r\n    }\r\n\r\n    reloadUserList() {\r\n        this.setState({loading: true});\r\n        \r\n        // setTimeout(()=>{\r\n         //  this.setState({loading: false});\r\n        //},2000)\r\n        \r\n        \r\n        ApiService.fetchUsers()\r\n            .then((res) => {\r\n                this.setState({users: res.data.result,loading: false})\r\n            });\r\n    }\r\n\r\n    deleteUser(userId) {\r\n        ApiService.deleteUser(userId)\r\n           .then(res => {\r\n               this.setState({message : 'User deleted successfully.'});\r\n               this.setState({users: this.state.users.filter(user => user.userId !== userId)});\r\n           })\r\n\r\n    }\r\n\r\n    editUser(id) {\r\n        window.localStorage.setItem(\"userId\", id);\r\n        this.props.history.push('/edit-user');\r\n    }\r\n\r\n    addUser() {\r\n        window.localStorage.removeItem(\"userId\");\r\n        this.props.history.push('/add-user');\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <NavBar/>\r\n                {this.state.loading&&<SpinerPage/>}\r\n                <br/>\r\n                <button className=\"btn btn-danger\" onClick={() => this.addUser()}>Додати користувача</button>\r\n                <table className=\"table table-striped\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Name</th>\r\n                            <th>LastName</th>\r\n                            <th>Email</th>\r\n                            <th>Active</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            this.state.users.map(\r\n                        user =>\r\n                                    <tr key={user.userId}>\r\n                                        <td>{user.name}</td>\r\n                                        <td>{user.lastName}</td>\r\n                                        <td>{user.email}</td>\r\n                                        <td>{user.active}</td>\r\n                              \r\n                                        <td>  \r\n                                            <button className=\"btn btn-success\" onClick={() => this.editUser(user.userId)}>Редагувати</button>\r\n                                        </td>\r\n                                        <td>\r\n                                            <button className=\"btn btn-success\" onClick={() => this.deleteUser(user.userId)}>Видалити</button>\r\n                                        </td>\r\n                                       \r\n                                    </tr>\r\n                            )\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ListUserComponent;\r\n"]},"metadata":{},"sourceType":"module"}